(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){e.exports={lds_dual_ring:"loader_lds_dual_ring__1HEGW",loader_wrapper:"loader_loader_wrapper__1_jAw"}},131:function(e,t,n){e.exports={projects_manage_wrapper:"projects_manage_projects_manage_wrapper__FfVp9",projects_nav:"projects_manage_projects_nav__3Hdr9"}},21:function(e,t,n){e.exports={profile:"profile_profile__3Mw9j",text_info:"profile_text_info__3EZHk",full_name:"profile_full_name__3j5F4",specialty:"profile_specialty__1OehI",profile_change_form:"profile_profile_change_form__28k5n",profile_btns:"profile_profile_btns__1Swiz",avatar_wrapper:"profile_avatar_wrapper__1jSW8",file_choicer:"profile_file_choicer__38F13",file_choicer_style:"profile_file_choicer_style__2GbLm",back_btn:"profile_back_btn__3DSzG",change_actions:"profile_change_actions__3q7Ka"}},218:function(e,t,n){e.exports={header_logo:"header_header_logo__3j182"}},22:function(e,t,n){e.exports={pagination_wrapper:"pagination_pagination_wrapper__18u6w",pagination_item:"pagination_pagination_item__3K86-",active:"pagination_active__20oos",arrow:"pagination_arrow__38mjo",disabled:"pagination_disabled__kcKPE"}},224:function(e,t,n){e.exports={auth_form:"auth_form_auth_form__2GgfK"}},225:function(e,t,n){e.exports={work_with_project_form:"work_with_project_form_work_with_project_form__3jT6O"}},226:function(e,t,n){e.exports={work_wrapper:"work_wrapper_work_wrapper__1slBE"}},227:function(e,t,n){e.exports={work_with_tasks_form:"work_with_task_form_work_with_tasks_form__2QBoI"}},232:function(e,t,n){},262:function(e,t){},264:function(e,t){},276:function(e,t){},278:function(e,t){},305:function(e,t){},307:function(e,t){},308:function(e,t){},31:function(e,t,n){e.exports={all_notifications_wrapper:"notifications_all_notifications_wrapper__3ZVXD",add_form:"notifications_add_form__1aUDK",notification_wrapper:"notifications_notification_wrapper__3Vu6i",notification_header:"notifications_notification_header__39H4G",notification_sender:"notifications_notification_sender__SFWJb",notification_date:"notifications_notification_date__1ZXZp",notification_content:"notifications_notification_content__3TPCd",error:"notifications_error__3Qfw9"}},313:function(e,t){},315:function(e,t){},321:function(e,t){},323:function(e,t){},34:function(e,t,n){e.exports={projects_actions_wrapper:"all_projects_projects_actions_wrapper__3LfEI",all_projects_wrapper:"all_projects_all_projects_wrapper__3_NZT",project_item:"all_projects_project_item__3YCvj",expired:"all_projects_expired__iw0rO",description:"all_projects_description__en5C9",project_lead_name:"all_projects_project_lead_name__LPDgt",deadline:"all_projects_deadline__1rLyP"}},342:function(e,t){},354:function(e,t){},357:function(e,t){},44:function(e,t,n){e.exports={single_developer:"developers_single_developer__3g3v7",single_developer_full_name:"developers_single_developer_full_name__3RFL6",single_developer_email:"developers_single_developer_email__3OvCG",developers_wrapper_actions:"developers_developers_wrapper_actions__2fJFm",developer_wrapper:"developers_developer_wrapper__3AmLM",delete_btn:"developers_delete_btn__Epxfk"}},45:function(e,t,n){e.exports={task_item:"all_tasks_task_item__2-3Dj",task_item_planned:"all_tasks_task_item_planned__18etU",task_item_actual:"all_tasks_task_item_actual__1RSvp",task_item_description:"all_tasks_task_item_description__VqVc5",tasks_actions_wrapper:"all_tasks_tasks_actions_wrapper__waMPq",all_tasks_wrapper:"all_tasks_all_tasks_wrapper__7NHrc"}},46:function(e,t,n){e.exports={project_info:"project_info_project_info__1zlkW",project_info_content:"project_info_project_info_content__Q4MRN",project_title:"project_info_project_title__1WXM4",project_description:"project_info_project_description__1At90",project_lead:"project_info_project_lead__3Rj83",project_actions:"project_info_project_actions__1a6ht",project_deadline:"project_info_project_deadline__1Gjbj"}},482:function(e,t,n){},486:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(87),o=n.n(c),i=(n(232),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,487)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))}),s=n(14),l=n(74),u=n(216),p=n(2),d=n.n(p),j=n(4),f=n(3),b=n(217),m=n.n(b),h=n(30),_=n.n(h),v=m.a.create({baseURL:"http://localhost:9000/"}),g="I want to live in alaska",x="Hello from Australia",O=function(e){return e?e.slice(0,1).toUpperCase()+e.slice(1,e.length).toLowerCase():""},k=function(e){var t="changing_dates/get/".concat(e);return v.get(t)},w=function(e){var t="changing_dates/delete/".concat(e);return v.get(t)},y=function(e,t){var n="changing_dates/update/".concat(e);return v.post(n,{cause:t})},S=function(e,t,n,r){return v.post("changing_dates/put",{cause:e,deadlineBefore:t,deadlineAfter:n,taskId:r})},P=function(e,t,n){var r=n?"projects/get?title=".concat(O(n),"&page=").concat(e-1,"&pagSize=").concat(t):"projects/get?page=".concat(e-1,"&pagSize=").concat(t);return v.get(r)},C=function(e,t,n,r){var a=r?"projects/get?developerId=".concat(n,"&title=").concat(O(r),"&page=").concat(e-1,"&pagSize=").concat(t):"projects/get?developerId=".concat(n,"&page=").concat(e-1,"&pagSize=").concat(t);return v.get(a)},N=function(e){var t="projects/get/".concat(e);return v.get(t)},T=function(e){var t=e?"projects/count?title=".concat(O(e)):"projects/count";return v.get(t)},D=function(e,t){var n=t?"projects/count?developerId=".concat(e,"&title=").concat(O(t)):"projects/count?developerId=".concat(e);return v.get(n)},A=function(e,t,n,r){return v.post("projects/put-project",{title:O(e),description:t,deadline:n,leadId:r})},E=function(e){var t="projects/delete/".concat(e);return v.get(t)},I=function(e,t,n,r,a){var c="projects/update/".concat(e);return v.post(c,{title:t,description:n,deadline:r,leadId:a})},L=function(e,t){var n=encodeURIComponent(_.a.AES.encrypt(t,x).toString());return console.log(e),console.log(n),v.post("developers/get_auth",{email:e,password:n})},M=function(e,t,n,r){var a=encodeURIComponent(_.a.AES.encrypt(n,g).toString()),c="developers/get?page=".concat(e-1,"&pagSize=").concat(t);return r&&n?c="developers/get?surname=".concat(O(r),"&email=").concat(a,"&page=").concat(e-1,"&pagSize=").concat(t):r?c="developers/get?surname=".concat(O(r),"&page=").concat(e-1,"&pagSize=").concat(t):n&&(c="developers/get?email=".concat(a,"&page=").concat(e-1,"&pagSize=").concat(t)),v.get(c)},F=function(e){return v.get("developers/get/".concat(e))},z=function(e,t,n,r,a){var c=encodeURIComponent(_.a.AES.encrypt(r,g).toString()),o="developers/get_by_project/".concat(e,"?page=").concat(t-1,"&pagSize=").concat(n);return a&&r?o="developers/get_by_project/".concat(e,"?surname=").concat(O(a),"&email=").concat(c,"&page=").concat(t-1,"&pagSize=").concat(n):a?o="developers/get_by_project/".concat(e,"?surname=").concat(O(a),"&page=").concat(t-1,"&pagSize=").concat(n):r&&(o="developers/get_by_project/".concat(e,"?email=").concat(c,"&page=").concat(t-1,"&pagSize=").concat(n)),v.get(o)},R=function(e,t){return v.post("developers/update/".concat(e),Object(f.a)(Object(f.a)({},t),{},{name:O(t.name),surname:O(t.surname),patronymic:O(t.patronymic),password:encodeURIComponent(_.a.AES.encrypt(t.password,x).toString())}))},q=function(e){return v.get("developers/delete/".concat(e))},U=function(e){return v.post("developers/put",Object(f.a)(Object(f.a)({},e),{},{name:O(e.name),surname:O(e.surname),patronymic:O(e.patronymic),password:encodeURIComponent(_.a.AES.encrypt(e.password,x).toString())}))},B=function(e,t){var n=encodeURIComponent(_.a.AES.encrypt(e,g).toString()),r="developers/count";return t&&e?r="developers/count?surname=".concat(O(t),"&email=").concat(n):t?r="developers/count?surname=".concat(O(t)):e&&(r="developers/count?email=".concat(n)),v.get(r)},V=function(e,t,n){var r=encodeURIComponent(_.a.AES.encrypt(t,g).toString()),a="developers/count_by_project/".concat(e);return n&&t?a="developers/count_by_project/".concat(e,"?surname=").concat(O(n),"&email=").concat(r):n?a="developers/count_by_project/".concat(e,"?surname=").concat(O(n)):t&&(a="developers/count_by_project/".concat(e,"?email=").concat(r)),v.get(a)},J=function(e,t){return Object(j.a)(d.a.mark((function n(){var r,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=encodeURIComponent(_.a.AES.encrypt(e,g).toString()),a="developers/checkEmail/".concat(r,"/").concat(t),n.next=4,v.get(a);case 4:return n.abrupt("return",n.sent.data);case 5:case"end":return n.stop()}}),n)})))()},G=function(e){return Object(j.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=encodeURIComponent(_.a.AES.encrypt(e,g).toString()),r="developers/check-by-developer/".concat(n),t.next=4,v.get(r);case 4:return t.abrupt("return",t.sent.data);case 5:case"end":return t.stop()}}),t)})))()},H=function(e,t){return Object(j.a)(d.a.mark((function n(){var r,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("image",t,"".concat(Date.now(),"_").concat(t.name)),a="http://localhost:9000/developers/put-avatar/".concat(e),n.abrupt("return",fetch(a,{method:"POST",body:r}));case 4:case"end":return n.stop()}}),n)})))()},K=function(e,t){var n="notifications/get_all?page=".concat(e-1,"&pagSize=").concat(t);return v.get(n)},X=function(e,t,n){var r="notifications/get_by_developer/".concat(e,"?page=").concat(t-1,"&pagSize=").concat(n);return v.get(r)},Q=function(){return v.get("notifications/all_count")},W=function(e){var t="notifications/count_by_developer/".concat(e);return v.get(t)},Z=function(e){var t="notifications/delete/".concat(e);return v.get(t)},Y=function(e,t,n,r){return v.post("notifications/put_notification",{sender:e,content:t,date:n,taskId:r})},$=function(e,t){var n="notifications/update_notification/".concat(e);return v.post(n,{content:t})},ee=function(e,t,n,r){var a=t?"tasks/get/".concat(e,"?title=").concat(t,"&page=").concat(n-1,"&pagSize=").concat(r):"tasks/get/".concat(e,"?page=").concat(n-1,"&pagSize=").concat(r);return v.get(a)},te=function(e,t,n,r,a){var c=t?"tasks/get/".concat(e,"?developerId=").concat(a,"&title=").concat(t,"&page=").concat(n-1,"&pagSize=").concat(r):"tasks/get/".concat(e,"?developerId=").concat(a,"&page=").concat(n-1,"&pagSize=").concat(r);return v.get(c)},ne=function(e){var t="tasks/get_single/".concat(e);return v.get(t)},re=function(e,t){var n=t?"tasks/count/".concat(e,"?title=").concat(t):"tasks/count/".concat(e);return v.get(n)},ae=function(e,t,n){var r=t?"tasks/count/".concat(e,"?developerId=").concat(n,"&title=").concat(t):"tasks/count/".concat(e,"?developerId=").concat(n);return v.get(r)},ce=function(e){var t="tasks/delete/".concat(e);return v.get(t)},oe=function(e,t,n,r,a){var c="tasks/update/".concat(e);return v.post(c,{title:t,description:n,results:r,leadId:a})};function ie(e,t){return e>=200&&e<300&&!t}var se="SET_AUTH_ID",le="SET_ADMIN_RULES",ue={authId:null,isAdmin:!1};function pe(e){return{type:se,authId:e}}function de(e){return{type:le,isAdmin:e}}var je="SET_DEVELOPERS_LIST",fe="SET_TOTAL_COUNT",be={developersList:[],totalDevelopersCount:null,paginationSize:5,positionCodes:["Developer","QA Developer","Frontend Developer","Backend Developer","Fullstack Developer","Data scientist","iOS developer","Android developer","System administrator"],specialtyCodes:["Trainee","Junior","Middle","Senior","Technical Director"]};function me(e){return{type:je,newDevelopersList:e}}function he(e){return{type:fe,newTotalCount:e}}var _e="SET_NOTIFICATIONS_LIST",ve="SET_TOTAL_NOTIFICATIONS_COUNT",ge={notificationsList:[],totalNotificationsCount:null,paginationSize:10};function xe(e){return{type:_e,newNotificationsList:e}}function Oe(e){return{type:ve,newTotalCount:e}}var ke="SET_PROFILE_INFORMATION",we={profileInformation:{}};function ye(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=12;break}if(!r.data[0]){t.next=9;break}a=r.data[0],n((c={name:a.developer_name,surname:a.developer_surname,patronymic:a.developer_patronymic,position:a.developer_position,birth:a.developer_birth,avatarURL:a.developer_avatar_url,email:a.developer_email,password:a.developer_password,specialty:a.developer_specialty,isAdmin:a.developer_is_admin},{type:ke,newProfileInformation:c})),t.next=10;break;case 9:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 10:t.next=13;break;case 12:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 13:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()}var Se=n(33),Pe="SET_PROJECTS_LIST",Ce="SET_TOTAL_PROJECTS_COUNT",Ne="SET_ACTUAL_PROJECT",Te={projectsList:[],totalProjectsCount:null,paginationSize:4,actualProject:null};function De(e){return{type:Pe,newProjectsList:e}}function Ae(e){return{type:Ce,projectsCount:e}}var Ee=Object(l.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(f.a)(Object(f.a)({},e),{},{isAdmin:t.isAdmin});case se:return Object(f.a)(Object(f.a)({},e),{},{authId:t.authId});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(f.a)(Object(f.a)({},e),{},{projectsList:t.newProjectsList});case Ce:return Object(f.a)(Object(f.a)({},e),{},{totalProjectsCount:t.projectsCount});case Ne:return Object(f.a)(Object(f.a)({},e),{},{actualProject:t.actualProjectObject});default:return e}},developers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(f.a)(Object(f.a)({},e),{},{developersList:t.newDevelopersList});case fe:return Object(f.a)(Object(f.a)({},e),{},{totalDevelopersCount:t.newTotalCount});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(f.a)(Object(f.a)({},e),{},{notificationsList:t.newNotificationsList});case ve:return Object(f.a)(Object(f.a)({},e),{},{totalNotificationsCount:t.newTotalCount});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(f.a)(Object(f.a)({},e),{},{profileInformation:Object(f.a)({},t.newProfileInformation)});default:return e}}}),Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,Le=Object(l.d)(Ee,Ie(Object(l.a)(u.a))),Me=n(9),Fe=n(6),ze=n(127),Re=n(0);function qe(){return Object(Re.jsx)("div",{className:ze.loader_wrapper,children:Object(Re.jsx)("div",{className:ze.lds_dual_ring})})}var Ue=n(218);function Be(e){var t=e.headerLogo;return Object(Re.jsx)("header",{children:Object(Re.jsx)("div",{className:Ue.header_logo,children:t})})}var Ve=n(18),Je=n(5),Ge=n(224);function He(e){var t=e.onSubmitAuth,n=Object(Ve.a)({initialValues:{login:"",password:""},validationSchema:Je.b({login:Je.c().max(50,"Email must be less then 50 symbols").required("Please, enter email"),password:Je.c().max(150,"Password must be less then 150 symbols").required("You must enter password")}),onSubmit:t});return Object(Re.jsxs)("form",{onSubmit:n.handleSubmit,className:Ge.auth_form,children:[Object(Re.jsx)("h1",{children:"ITime"}),Object(Re.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",placeholder:"Enter login",id:"login"},n.getFieldProps("login"))),n.errors.login&&n.touched.login?Object(Re.jsx)("p",{className:"validation_error",children:n.errors.login}):null,Object(Re.jsx)("input",Object(f.a)({type:"password",autoComplete:"off",placeholder:"Enter password",id:"password"},n.getFieldProps("password"))),n.errors.password&&n.touched.password?Object(Re.jsx)("p",{className:"validation_error",children:n.errors.password}):null,Object(Re.jsx)("button",{className:"primary-btn",children:"Login"})]})}var Ke=n(12);n(482);var Xe=Object(Ke.f)((function(e){var t=e.accessRight,n=e.location;return Object(Re.jsx)("aside",{children:Object(Re.jsxs)("ul",{children:[Object(Re.jsx)(Fe.b,{to:"/profile/",children:Object(Re.jsx)("li",{children:"Profile"})}),Object(Re.jsx)(Fe.b,{to:"/projects/1",className:n.pathname.includes("put-project")||n.pathname.includes("projects")||n.pathname.includes("single_project")?"active":"",children:Object(Re.jsx)("li",{children:"Projects"})}),t?Object(Re.jsx)(Fe.b,{to:"/developers/1",className:n.pathname.includes("/developers/")?"active":"",children:Object(Re.jsx)("li",{children:"Developers"})}):null,Object(Re.jsx)(Fe.b,{to:"/notifications/1",className:n.pathname.includes("/notifications/")?"active":"",children:Object(Re.jsx)("li",{children:"Notifications"})})]})})})),Qe=function(e){return e.auth.authId},We=function(e){return e.auth.isAdmin},Ze=function(e){return e.notifications.totalNotificationsCount},Ye=function(e){return e.notifications.notificationsList},$e=function(e){return e.notifications.paginationSize},et=function(e){return e.developers.positionCodes},tt=function(e){return e.developers.specialtyCodes},nt=function(e){return e.developers.totalDevelopersCount},rt=function(e){return e.developers.paginationSize},at=function(e){return e.developers.developersList},ct=function(e){return e.profile.profileInformation},ot=function(e){return e.projects.actualProject},it=function(e){return e.projects.projectsList},st=function(e){return e.projects.paginationSize},lt=function(e){return e.projects.totalProjectsCount},ut=function(e){return e.tasks.tasksList},pt=function(e){return e.tasks.actualTask},dt=function(e){return e.tasks.paginationSize},jt=function(e){return e.tasks.totalTasksCount},ft=function(e){return e.tasks.changingDatesList};var bt=Object(s.b)((function(e){return{accessRight:We(e)}}),{})(Xe),mt=n(21);function ht(e){var t=e.profileInformation,n=e.setChanging,r=e.isAdmin,a=e.positionCodes,c=e.specialtyCodes,o=e.onSubmitProfileChange,i=r?{name:t.name,surname:t.surname,patronymic:t.patronymic,birth:t.birth.slice(0,t.birth.indexOf("T")),email:t.email,position:a.indexOf(t.position),specialty:c.indexOf(t.specialty),isAdmin:!!t.isAdmin}:{name:t.name,surname:t.surname,patronymic:t.patronymic,birth:t.birth.slice(0,t.birth.indexOf("T")),email:t.email},s=r?Je.b({name:Je.c().required("Fill out the required field"),surname:Je.c().required("Fill out the required field"),birth:Je.a("Invalid date").max(new Date,"Invalid birth date").required("Fill out the required field"),email:Je.c().email("Invalid email").required("Fill out the required field")}):Je.b({name:Je.c().required("Fill out the required field"),surname:Je.c().required("Fill out the required field"),birth:Je.a("Invalid date").required("Fill out the required field"),email:Je.c().email("Fill out the required field")}),l=Object(Ve.a)({initialValues:i,validationSchema:s,onSubmit:function(e){o(e)}});return Object(Re.jsxs)("form",{onSubmit:l.handleSubmit,className:mt.profile_change_form,children:[Object(Re.jsx)("input",Object(f.a)({type:"text",id:"name",autoComplete:"off"},l.getFieldProps("name"))),l.errors.name?Object(Re.jsx)("div",{className:"validation_error",children:l.errors.name}):null,Object(Re.jsx)("input",Object(f.a)({type:"text",id:"surname",autoComplete:"off"},l.getFieldProps("surname"))),l.errors.surname?Object(Re.jsx)("div",{className:"validation_error",children:l.errors.surname}):null,Object(Re.jsx)("input",Object(f.a)({type:"text",id:"patronymic",autoComplete:"off"},l.getFieldProps("patronymic"))),Object(Re.jsx)("input",Object(f.a)({type:"date",id:"birth"},l.getFieldProps("birth"))),l.errors.birth?Object(Re.jsx)("div",{className:"validation_error",children:l.errors.birth}):null,Object(Re.jsx)("input",Object(f.a)({type:"email",id:"email",autoComplete:"off"},l.getFieldProps("email"))),l.errors.email?Object(Re.jsx)("div",{className:"validation_error",children:l.errors.email}):null,r?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("select",{name:"position",value:l.values.position,onChange:l.handleChange,onBlur:l.handleBlur,style:{display:"block"},children:[Object(Re.jsx)("option",{value:"0",label:"Developer"}),Object(Re.jsx)("option",{value:"1",label:"QA Developer"}),Object(Re.jsx)("option",{value:"2",label:"Frontend Developer"}),Object(Re.jsx)("option",{value:"3",label:"Backend Developer"}),Object(Re.jsx)("option",{value:"4",label:"Fullstack Developer"}),Object(Re.jsx)("option",{value:"5",label:"Data scientist"}),Object(Re.jsx)("option",{value:"6",label:"iOS developer"}),Object(Re.jsx)("option",{value:"7",label:"Android developer"}),Object(Re.jsx)("option",{value:"8",label:"System administrator"})]}),Object(Re.jsxs)("select",{name:"specialty",value:l.values.specialty,onChange:l.handleChange,onBlur:l.handleBlur,style:{display:"block"},children:[Object(Re.jsx)("option",{value:"0",label:"Trainee"}),Object(Re.jsx)("option",{value:"1",label:"Junior"}),Object(Re.jsx)("option",{value:"2",label:"Middle"}),Object(Re.jsx)("option",{value:"3",label:"Senior"}),Object(Re.jsx)("option",{value:"4",label:"Technical Director"})]}),Object(Re.jsxs)("div",{children:[Object(Re.jsx)("span",{children:"Is admin: "}),Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"checkbox",id:"isAdmin"},l.getFieldProps("isAdmin")),{},{checked:l.getFieldProps("isAdmin").value}))]})]}):null,Object(Re.jsxs)("div",{className:mt.change_actions,children:[Object(Re.jsx)("button",{type:"submit",className:"primary-btn",children:"Save"}),Object(Re.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:mt.back_btn,children:"Back"})]})]})}function _t(e){var t=new Date(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}).format(t)}function vt(e){var t=new Date(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric",hour12:!1,hour:"numeric",minute:"numeric"}).format(t)}function gt(e){var t=e.profileInformation;return Object(Re.jsxs)("div",{className:mt.text_info,children:[Object(Re.jsx)("p",{className:mt.full_name,children:Object(Re.jsxs)("b",{children:[t.name," ",t.surname," ",t.patronymic]})}),Object(Re.jsxs)("p",{className:mt.specialty,children:[t.position," ",t.specialty]}),Object(Re.jsxs)("p",{children:["Date of birth: ",Object(Re.jsx)("b",{children:t.birth?_t(t.birth):null})]}),Object(Re.jsxs)("p",{children:["Email: ",Object(Re.jsx)("b",{children:t.email})]})]})}function xt(e){var t=e.existsFlag,n=e.loading,r=e.id,a=e.authId,c=e.isAdmin,o=e.changeAvatarAction,i=e.changing,s=e.setChanging,l=e.deleteProfile,u=e.profileInformation,p=e.updateDeveloper,d=e.setLoading,j=e.deleteDeveloper,f=e.getProfile,b=e.positionCodes,m=e.specialtyCodes,h=e.onSubmitProfileChange,_=e.logout,v={background:"no-repeat center url(".concat(u.avatarURL,")"),height:"300px",backgroundSize:"cover",display:"flex",flexDirection:"column",justifyContent:"flex-end"};return t?n?Object(Re.jsx)(qe,{}):Object(Re.jsxs)("div",{className:mt.profile,children:[Object(Re.jsxs)("div",{className:mt.avatar_wrapper,children:[Object(Re.jsx)("div",{style:v,children:r===a||c?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("input",{id:"file",type:"file",className:mt.file_choicer,onChange:function(e){return o(e)}}),Object(Re.jsx)("label",{htmlFor:"file",className:mt.file_choicer_style,children:"Change photo"})]}):null}),i?null:Object(Re.jsx)("div",{className:mt.profile_btns,children:r===a||c?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("button",{type:"button",className:"primary-btn",onClick:function(){return s(!0)},children:"Change profile"}),Object(Re.jsx)("button",{type:"button",className:"primary-btn",onClick:function(){r===a&&_(),l(r)},children:"Delete profile"})]}):null})]}),i?Object(Re.jsx)(ht,{profileInformation:u,setChanging:s,isAdmin:c,id:r,updateDeveloper:p,setLoading:d,getProfile:f,positionCodes:b,specialtyCodes:m,onSubmitProfileChange:h}):Object(Re.jsx)(gt,{profileInformation:u,setChanging:s,deleteDeveloper:function(){return j(r)}})]}):Object(Re.jsx)(Ke.a,{to:"/profile/"})}var Ot=Object(Ke.f)((function(e){var t=e.profileInformation,n=e.authId,a=e.getProfile,c=e.isAdmin,o=e.updateDeveloper,i=e.deleteDeveloper,s=e.history,l=e.match,u=e.changeAvatar,p=e.positionCodes,f=e.specialtyCodes,b=e.logout,m=l.params.id?l.params.id:n,h=Object(r.useState)(!1),_=Object(Me.a)(h,2),v=_[0],g=_[1],x=Object(r.useState)(!1),O=Object(Me.a)(x,2),k=O[0],w=O[1],y=Object(r.useState)(!0),S=Object(Me.a)(y,2),P=S[0],C=S[1];return Object(r.useEffect)((function(){w(!0),a(m).catch((function(e){C(!1),console.log(e),alert(e.message)})).finally((function(){return w(!1)})),g(!1)}),[m]),Object(Re.jsx)(xt,{existsFlag:P,loading:k,id:m,authId:n,isAdmin:c,changeAvatarAction:function(e){w(!0),u(m,e.target.files[0]).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return w(!1)}))},changing:v,setChanging:g,deleteProfile:function(e){confirm("Are you sure to delete this profile?")&&i(e).then((function(){return s.push("/developers/1")})).catch((function(e){console.log(e),alert(e.message)}))},profileInformation:t,updateDeveloper:o,setLoading:w,deleteDeveloper:i,getProfile:a,positionCodes:p,specialtyCodes:f,onSubmitProfileChange:function(e){var n=!0;t.isAdmin!==e.isAdmin&&t.isAdmin&&(n=confirm("Are you sure you want to stop being an administrator? Only another administrator can restore the authority")),n&&(w(!0),J(e.email,m).then(function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.passed){t.next=8;break}return t.next=3,o(m,e);case 3:return t.next=5,a(m);case 5:g(!1),t.next=9;break;case 8:alert("This mail belongs to another user");case 9:w(!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),alert(e.message),w(!1)})))},logout:b})}));var kt=Object(s.b)((function(e){return{profileInformation:ct(e),authId:Qe(e),isAdmin:We(e),positionCodes:et(e),specialtyCodes:tt(e)}}),{getProfile:ye,updateDeveloper:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteDeveloper:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeAvatar:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=7;break}return n.abrupt("return",r(ye(e)));case 7:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(e){e(pe(null)),e(de(!1))}}})(Ot),wt=n(34);function yt(e){var t=e.id,n=e.title,r=e.description,a=e.deadline,c=e.projectLead;return Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(t,"/project_info"),children:Object(Re.jsxs)("div",{className:"".concat(wt.project_item," ").concat(Date.parse(a)<Date.now()?wt.expired:""),children:[Object(Re.jsx)("h2",{children:n}),Object(Re.jsx)("p",{className:wt.description,children:r?r.length>175?r.slice(0,175)+"...":r:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(Re.jsx)("div",{children:c?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("h3",{children:["Project lead: ",Object(Re.jsxs)("span",{className:wt.project_lead_name,children:[c.developer_name," ",c.developer_surname]})]}),Object(Re.jsxs)("p",{children:[c.developer_position," ",c.developer_specialty]}),Object(Re.jsx)("p",{children:c.developer_email})]}):Object(Re.jsxs)("h3",{children:["Project lead: ",Object(Re.jsx)("span",{className:wt.project_lead_name,children:"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]})}),Object(Re.jsxs)("p",{className:wt.deadline,children:[Object(Re.jsx)("b",{children:"Until: "}),_t(a)]})]})})}var St=n(22);var Pt=Object(Ke.f)((function(e){for(var t=e.totalCount,n=e.paginationSize,r=e.match,a=e.history,c=e.rootValue,o=+r.params.page,i=[],s=Math.ceil(t/n),l=o>=s-3?s:o+2,u=o<=4?1:o-2;u<=l;u++)i.push(u);return Object(Re.jsxs)("div",{className:St.pagination_wrapper,children:[Object(Re.jsx)("button",{className:St.arrow+" "+(o<=1?St.disabled:""),onClick:function(){a.push("".concat(c).concat(o-1))},disabled:o<=1,children:Object(Re.jsx)("span",{className:St.pagination_item,children:Object(Re.jsx)("b",{children:"<"})})}),o>4?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("span",{className:St.pagination_item,children:Object(Re.jsx)(Fe.b,{to:c+"1",children:"1"})}),Object(Re.jsx)("span",{className:St.pagination_item,children:"\xa0...\xa0"})]}):null,i.map((function(e){return Object(Re.jsxs)("span",{className:St.pagination_item+" "+(e===o?St.active:""),children:["\xa0",Object(Re.jsx)(Fe.b,{to:c+e,children:e})]},e)})),o<s-3?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("span",{className:St.pagination_item,children:"\xa0...\xa0"}),Object(Re.jsx)("span",{className:St.pagination_item,children:Object(Re.jsx)(Fe.b,{to:c+s,children:s})})]}):null,Object(Re.jsx)("button",{className:St.arrow+" "+(o===s?St.disabled:""),onClick:function(){a.push("".concat(c).concat(o+1))},disabled:o===s,children:Object(Re.jsx)("span",{className:St.pagination_item,children:Object(Re.jsx)("b",{children:">"})})})]})}));function Ct(e){var t=e.onSubmitSearchProject,n=Object(Ve.a)({initialValues:{title:""},validationSchema:Je.b({title:Je.c("Must be string")}),onSubmit:function(e){t(e)}});return Object(Re.jsxs)("form",{onSubmit:n.handleSubmit,className:"search_form",children:[Object(Re.jsx)("p",{className:"search_annotation",children:"Search\xa0by "}),Object(Re.jsx)("input",Object(f.a)({type:"text",placeholder:"project title",id:"title",autoComplete:"off"},n.getFieldProps("title"))),Object(Re.jsx)("input",{type:"submit",className:"primary-btn",value:"Search"})]})}function Nt(e){var t=e.projectsList,n=e.totalCount,r=e.pagSize,a=e.isAdmin,c=e.page,o=e.totalPagesCount,i=e.loading,s=e.onSubmitSearchProject;return!(c>o||c<1)||0===n&&1===c?i?Object(Re.jsx)(qe,{}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("div",{className:wt.projects_actions_wrapper,children:[Object(Re.jsx)(Ct,{onSubmitSearchProject:s}),a?Object(Re.jsx)(Fe.b,{to:"/put-project",className:"primary-btn",children:"Add project"}):null]}),Object(Re.jsxs)("div",{className:"founded",children:["Projects found:\xa0",Object(Re.jsx)("span",{children:n})]}),Object(Re.jsx)("div",{className:wt.all_projects_wrapper,children:t.map((function(e){return Object(Re.jsx)(yt,{id:e.project_id,title:e.project_title,description:e.project_description,deadline:e.project_deadline,projectLead:e.lead},e.project_id)}))}),Math.ceil(n/r)>1?Object(Re.jsx)(Pt,{rootValue:"/projects/",paginationSize:r,totalCount:n}):null]}):Object(Re.jsx)(Ke.a,{to:"/projects/1"})}var Tt=Object(Ke.f)((function(e){var t=e.projectsList,n=e.totalCount,a=e.pagSize,c=e.getProjects,o=e.getProjectsCount,i=e.isAdmin,s=e.match,l=e.history,u=s.params.page?+s.params.page:1,p=Math.ceil(n/a),d=Object(r.useState)(!1),j=Object(Me.a)(d,2),f=j[0],b=j[1],m=Object(r.useState)(void 0),h=Object(Me.a)(m,2),_=h[0],v=h[1];return Object(r.useEffect)((function(){b(!0),o(_).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return b(!1)}))}),[]),Object(r.useEffect)((function(){b(!0),l.push("/projects/1"),c(1,_).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return b(!1)}))}),[n]),Object(r.useEffect)((function(){b(!0),u>=1&&u<=p?c(u,_).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return b(!1)})):b(!1)}),[u]),Object(Re.jsx)(Nt,{projectsList:t,totalCount:n,pagSize:a,isAdmin:i,page:u,totalPagesCount:p,loading:f,onSubmitSearchProject:function(e){b(!0),v(e.title),o(e.title).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return b(!1)}))}})}));var Dt=Object(s.b)((function(e){return{projectsList:it(e),totalCount:lt(e),pagSize:st(e),actualProject:ot(e),isAdmin:We(e),authId:Qe(e)}}),{getProjects:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r,a){var c,o,i,s,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(e,a().projects.paginationSize,t);case 2:if(!ie((c=n.sent).status,c.data.errMessage)){n.next=31;break}o=Object(Se.a)(c.data),n.prev=5,o.s();case 7:if((i=o.n()).done){n.next=20;break}if(!(s=i.value).project_lead_id){n.next=18;break}return n.next=12,F(s.project_lead_id);case 12:if(!ie((l=n.sent).status,l.data.errMessage)){n.next=17;break}s.lead=l.data[0],n.next=18;break;case 17:return n.abrupt("return",Promise.reject(new Error("No data of lead")));case 18:n.next=7;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),o.e(n.t0);case 25:return n.prev=25,o.f(),n.finish(25);case 28:r(De(c.data)),n.next=32;break;case 31:return n.abrupt("return",Promise.reject(new Error(c.data.errMessage)));case 32:case"end":return n.stop()}}),n,null,[[5,22,25,28]])})));return function(e,t){return n.apply(this,arguments)}}()},getProjectsCount:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}n(Ae(r.data[0]["COUNT(*)"])),t.next=8;break;case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getDevelopersProjects:function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(a,c){var o,i,s,l,u;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C(e,c().projects.paginationSize,n,t);case 2:if(!ie((o=r.sent).status,o.data.errMessage)){r.next=31;break}i=Object(Se.a)(o.data),r.prev=5,i.s();case 7:if((s=i.n()).done){r.next=20;break}if(!(l=s.value).project_lead_id){r.next=18;break}return r.next=12,F(l.project_lead_id);case 12:if(!ie((u=r.sent).status,u.data.errMessage)){r.next=17;break}l.lead=u.data[0],r.next=18;break;case 17:return r.abrupt("return",Promise.reject(new Error("No data of lead")));case 18:r.next=7;break;case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(5),i.e(r.t0);case 25:return r.prev=25,i.f(),r.finish(25);case 28:a(De(o.data)),r.next=32;break;case 31:return r.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 32:case"end":return r.stop()}}),r,null,[[5,22,25,28]])})));return function(e,t){return r.apply(this,arguments)}}()},getDevelopersProjectsCount:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(t,e);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=7;break}r(Ae(a.data[0]["COUNT(*)"])),n.next=8;break;case 7:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.isAdmin?e.getProjects:function(t,n){return e.getDevelopersProjects(t,n,e.authId)},n=e.isAdmin?e.getProjectsCount:function(t){return e.getDevelopersProjectsCount(t,e.authId)};return Object(Re.jsx)(Tt,{projectsList:e.projectsList,totalCount:e.totalCount,pagSize:e.pagSize,actualProject:e.actualProject,isAdmin:e.isAdmin,getProjects:t,getProjectsCount:n})}));function At(e){var t=e.onSubmitSearchDevelopers,n=Object(Ve.a)({initialValues:{email:"",surname:""},validationSchema:Je.b({email:Je.c(),surname:Je.c()}),onSubmit:function(e){t(e)}});return Object(Re.jsxs)("form",{onSubmit:n.handleSubmit,className:"search_form",children:[Object(Re.jsx)("p",{className:"search_annotation",children:"Search\xa0by "}),Object(Re.jsx)("input",Object(f.a)({type:"email",placeholder:"email",id:"email",autoComplete:"off"},n.getFieldProps("email"))),Object(Re.jsx)("p",{className:"search_annotation",children:"or"}),Object(Re.jsx)("input",Object(f.a)({type:"text",placeholder:"surname",id:"surname",autoComplete:"off"},n.getFieldProps("surname"))),Object(Re.jsx)("input",{type:"submit",className:"primary-btn",value:"Search"})]})}var Et=n(44);function It(e){var t=e.id,n=e.name,r=e.avatarURL,a=e.surname,c=e.email,o=e.specialty,i=e.position,s=e.deleteDeveloperAction;return Object(Re.jsxs)("div",{className:Et.developer_wrapper,children:[Object(Re.jsx)(Fe.b,{to:"/profile/".concat(t),children:Object(Re.jsxs)("div",{className:Et.single_developer,children:[Object(Re.jsx)("img",{src:r,alt:"avatar"}),Object(Re.jsxs)("div",{children:[Object(Re.jsxs)("p",{className:Et.single_developer_full_name,children:[n," ",a]}),Object(Re.jsx)("p",{className:Et.single_developer_email,children:c}),Object(Re.jsxs)("p",{children:[i," ",o]})]})]})}),s?Object(Re.jsx)("button",{onClick:function(){return s(t)},className:Et.delete_btn,children:"X"}):null]})}function Lt(e){var t=e.page,n=e.totalPagesCount,r=e.totalDevelopersCount,a=e.loading,c=e.setLoading,o=e.developersList,i=e.paginationSize,s=e.rootPath,l=e.AddDeveloper,u=e.onSubmitSearchDevelopers,p=e.deleteDeveloperAction,d=e.onSubmitAddDeveloperCreator,j=e.accessRights,f=d?d(c):null;return!(t>n||t<1)||0===r&&1===t?Object(Re.jsxs)("div",{children:[Object(Re.jsxs)("div",{className:Et.developers_wrapper_actions,children:[Object(Re.jsx)(At,{onSubmitSearchDevelopers:u}),l&&j?Object(Re.jsx)(l,{onSubmitAddDeveloper:f}):null]}),Object(Re.jsxs)("div",{className:"founded",children:["Developers found:\xa0",Object(Re.jsx)("span",{children:r})]}),a?Object(Re.jsx)(qe,{}):o.map((function(e){return Object(Re.jsx)(It,{avatarURL:e.developer_avatar_url,name:e.developer_name,surname:e.developer_surname,email:e.developer_email,id:e.developer_id,specialty:e.developer_specialty,position:e.developer_position,deleteDeveloperAction:p},e.developer_id)})),n>1?Object(Re.jsx)(Pt,{totalCount:r,paginationSize:i,rootValue:s}):null]}):Object(Re.jsx)(Ke.a,{to:"".concat(s,"1")})}var Mt=Object(Ke.f)((function(e){var t=e.totalDevelopersCount,n=e.paginationSize,a=e.developersList,c=e.getDevelopers,o=e.getTotalCount,i=e.match,s=e.history,l=e.rootPath,u=e.AddDeveloper,p=e.deleteDeveloperAction,d=e.onSubmitAddDeveloperCreator,j=e.accessRights,f=i.params.page?+i.params.page:1,b=Math.ceil(t/n),m=Object(r.useState)(!1),h=Object(Me.a)(m,2),_=h[0],v=h[1],g=Object(r.useState)(void 0),x=Object(Me.a)(g,2),O=x[0],k=x[1],w=Object(r.useState)(void 0),y=Object(Me.a)(w,2),S=y[0],P=y[1];return Object(r.useEffect)((function(){v(!0),o().catch((function(e){console.log(e),alert(e.message)})).finally((function(){return v(!1)}))}),[]),Object(r.useEffect)((function(){s.push(l+"1"),c(1,O,S).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return v(!1)}))}),[t]),Object(r.useEffect)((function(){v(!0),f>=1&&f<=b?c(f,O,S).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return v(!1)})):v(!1)}),[f]),Object(Re.jsx)(Lt,{page:f,totalPagesCount:b,totalDevelopersCount:t,getDevelopers:c,setLoading:v,getTotalCount:o,setSearchEmail:k,setSearchSurname:P,loading:_,developersList:a,paginationSize:n,AddDeveloper:u,rootPath:l,onSubmitSearchDevelopers:function(e){v(!0),k(e.email),P(e.surname),o(e.email,e.surname).then((function(){return v(!1)})).catch((function(e){console.log(e),alert(e.message)}))},deleteDeveloperAction:p?function(e){p&&confirm("Are you sure to delete this developer from task?")&&(v(!0),p(e).then((function(){return o()})).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return v(!1)})))}:null,onSubmitAddDeveloperCreator:d,accessRights:j})}));var Ft=Object(s.b)((function(e){return{totalDevelopersCount:nt(e),paginationSize:rt(e),developersList:at(e),rootPath:"/developers/",accessRights:We(e)}}),{getDevelopers:function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(a,c){var o;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M(e,c().developers.paginationSize,t,n);case 2:if(!ie((o=r.sent).status,o.data.errMessage)){r.next=7;break}a(me(o.data)),r.next=8;break;case 7:return r.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},getTotalCount:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=8;break}c=a.data[0]["COUNT(*)"],r(he(c)),n.next=9;break;case 8:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(Re.jsx)(Mt,Object(f.a)(Object(f.a)({},e),{},{AddDeveloper:function(){return Object(Re.jsx)(Fe.b,{to:"/put-developer",className:"primary-btn",children:"Add\xa0new\xa0developer"})}}))})),zt=n(91);var Rt=Object(Ke.f)((function(e){var t=e.onSubmitPutDeveloper,n=Object(Ve.a)({initialValues:{name:"",surname:"",patronymic:"",birth:"",email:"",position:"0",specialty:"0",isAdmin:"",password:""},validationSchema:Je.b({name:Je.c().required("Fill out the required field"),surname:Je.c().required("Fill out the required field"),birth:Je.a("Invalid date").max(new Date,"Invalid birth date").required("Fill out the required field"),email:Je.c().email("Invalid email").required("Fill out the required field"),password:Je.c().required("Fill out the required field")}),onSubmit:function(e){t(e)}});return Object(Re.jsx)("form",{onSubmit:n.handleSubmit,className:zt.developer_put_form,children:Object(Re.jsxs)("div",{className:zt.developer_put_form_data,children:[Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"name",autoComplete:"off"},n.getFieldProps("name")),{},{placeholder:"*name"})),n.errors.name&&n.touched.name?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.name}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"surname",autoComplete:"off"},n.getFieldProps("surname")),{},{placeholder:"*surname"})),n.errors.surname&&n.touched.surname?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.surname}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"patronymic",autoComplete:"off"},n.getFieldProps("patronymic")),{},{placeholder:"patronymic"})),n.errors.patronymic&&n.touched.patronymic?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.patronymic}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"date",id:"birth",autoComplete:"off"},n.getFieldProps("birth")),{},{placeholder:"*birth"})),n.errors.birth&&n.touched.birth?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.birth}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"email",id:"email",autoComplete:"off"},n.getFieldProps("email")),{},{placeholder:"*email"})),n.errors.email&&n.touched.email?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.email}):null,Object(Re.jsxs)("select",{name:"position",value:n.values.position,onChange:n.handleChange,onBlur:n.handleBlur,style:{display:"block"},children:[Object(Re.jsx)("option",{value:"0",label:"Developer"}),Object(Re.jsx)("option",{value:"1",label:"QA Developer"}),Object(Re.jsx)("option",{value:"2",label:"Frontend Developer"}),Object(Re.jsx)("option",{value:"3",label:"Backend Developer"}),Object(Re.jsx)("option",{value:"4",label:"Fullstack Developer"}),Object(Re.jsx)("option",{value:"5",label:"Data scientist"}),Object(Re.jsx)("option",{value:"6",label:"iOS developer"}),Object(Re.jsx)("option",{value:"7",label:"Android developer"}),Object(Re.jsx)("option",{value:"8",label:"System administrator"})]}),Object(Re.jsxs)("select",{name:"specialty",value:n.values.specialty,onChange:n.handleChange,onBlur:n.handleBlur,style:{display:"block"},children:[Object(Re.jsx)("option",{value:"0",label:"Trainee"}),Object(Re.jsx)("option",{value:"1",label:"Junior"}),Object(Re.jsx)("option",{value:"2",label:"Middle"}),Object(Re.jsx)("option",{value:"3",label:"Senior"}),Object(Re.jsx)("option",{value:"4",label:"Technical Director"})]}),Object(Re.jsxs)("div",{children:[Object(Re.jsx)("span",{children:"Is admin: "}),Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"checkbox",id:"IsAdmin"},n.getFieldProps("isAdmin")),{},{checked:n.getFieldProps("isAdmin").value}))]}),n.errors.avatarURL&&n.touched.avatarURL?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.avatarURL}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"password",id:"password",autoComplete:"off"},n.getFieldProps("password")),{},{placeholder:"password"})),n.errors.password&&n.touched.password?Object(Re.jsx)("div",{className:"validation_error",children:n.errors.password}):null,Object(Re.jsxs)("div",{className:zt.developer_put_form_actions,children:[Object(Re.jsx)("button",{type:"submit",className:"primary-btn",children:"Save"}),Object(Re.jsx)(Fe.b,{to:"/developers/1",className:"back_action",children:"Back"})]})]})})})),qt=n(225);function Ut(e){var t=e.initialValues,n=e.onSubmit,a=e.actualProject,c=e.action,o=e.location,i=e.projectId,s=Object(r.useState)(!1),l=Object(Me.a)(s,2),u=l[0],p=l[1],d=Object(Ve.a)({initialValues:t(a),validationSchema:Je.b({title:Je.c().required("Fill out the required field"),description:Je.c().max(2e3,"Description max length is 2000"),deadline:Je.a().min(new Date,"Invalid deadline date").required("Fill out the required field"),projectLeadEmail:Je.c().email("Invalid email")}),onSubmit:function(e){n(e,p)}});return u?Object(Re.jsx)(qe,{}):Object(Re.jsxs)("form",{onSubmit:d.handleSubmit,className:qt.work_with_project_form,children:[Object(Re.jsx)("input",Object(f.a)({type:"text",placeholder:"Title",id:"text",autoComplete:"off"},d.getFieldProps("title"))),d.errors.title&&d.touched.title?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.title}):null,Object(Re.jsx)("textarea",Object(f.a)(Object(f.a)({name:"description",id:"description",autoComplete:"off"},d.getFieldProps("description")),{},{placeholder:"Description of project"})),d.errors.description&&d.touched.description?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.description}):null,Object(Re.jsx)("input",Object(f.a)({type:"date",id:"deadline",autoComplete:"off"},d.getFieldProps("deadline"))),d.errors.deadline&&d.touched.deadline?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.deadline}):null,Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"email",id:"projectLeadEmail",autoComplete:"off"},d.getFieldProps("projectLeadEmail")),{},{placeholder:"Project lead`s email"})),d.errors.projectLeadEmail&&d.touched.projectLeadEmail?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.projectLeadEmail}):null,Object(Re.jsxs)("div",{children:[Object(Re.jsxs)("button",{className:"primary-btn",type:"submit",children:[c," project"]}),Object(Re.jsx)(Fe.b,{className:"back_action",to:o.pathname.includes("put-project")?"/projects/1":"/single_project/".concat(i,"/project_info"),children:"Back"})]})]})}var Bt=n(31);function Vt(e){var t=e.sender,n=e.content,a=e.date,c=e.deleteNotificationAction,o=e.updateNotification,i=e.accessRights,s=Object(r.useState)(!1),l=Object(Me.a)(s,2),u=l[0],p=l[1],d=Object(r.useState)(n),j=Object(Me.a)(d,2),f=j[0],b=j[1],m=Object(r.useState)(null),h=Object(Me.a)(m,2),_=h[0],v=h[1];return Object(Re.jsxs)("div",{className:Bt.notification_wrapper,children:[Object(Re.jsxs)("div",{className:Bt.notification_header,children:[Object(Re.jsxs)("p",{className:Bt.notification_sender,children:["From: ",Object(Re.jsx)("span",{children:t})]}),i?Object(Re.jsx)("button",{onClick:function(){confirm("Are you sure to delete this notification?")&&c().then((function(){return p(!1)}))},children:"X"}):null]}),u?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("textarea",{autoFocus:!0,onBlur:function(){return _?null:void(f!==n?o(f).then((function(){return p(!1)})):p(!1))},value:f,onChange:function(e){e.target.value.length>3100?v("Content length is max 3100 symbols"):0===e.target.value.length?v("Cause is required"):v(null),b(e.target.value)}}),_?Object(Re.jsx)("div",{className:"validation_error ".concat(Bt.error),children:_}):null]}):Object(Re.jsx)("p",{className:Bt.notification_content,onDoubleClick:i?function(){return p(!0)}:null,children:n}),Object(Re.jsx)("p",{className:Bt.notification_date,children:vt(a)})]})}function Jt(e){var t=e.onSubmitPutNotification,n=Object(Ve.a)({initialValues:{content:""},validationSchema:Je.b({content:Je.c().max(3100,"Content must be max 3100 symbols length").required("Fill out the required field")}),onSubmit:function(e){t(e)}});return Object(Re.jsxs)("form",{onSubmit:n.handleSubmit,className:Bt.add_form,children:[Object(Re.jsx)("textarea",Object(f.a)({id:"content",placeholder:"Write text of notification",autoComplete:"off"},n.getFieldProps("content"))),n.errors.content&&n.touched.content?Object(Re.jsx)("p",{className:"validation_error",children:n.errors.content}):null,Object(Re.jsx)("button",{className:"primary-btn",children:"Add notification"})]})}function Gt(e){var t=e.totalPagesCount,n=e.notificationsList,r=e.paginationSize,a=e.totalNotificationsCount,c=e.rootPath,o=e.loading,i=e.isAdding,s=e.setIsAdding,l=e.onSubmitPutNotification,u=e.deleteNotificationAction,p=e.updateNotificationActionCreator,d=e.accessRights;return o?Object(Re.jsx)(qe,{}):Object(Re.jsxs)("div",{className:Bt.all_notifications_wrapper,children:[l&&d?Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("button",{className:"primary-btn",onClick:function(){return s(!i)},children:[" ",i?"Back":"Add notification"]}),i?Object(Re.jsx)(Jt,{onSubmitPutNotification:l}):null]}):null,n.map((function(e){return Object(Re.jsx)(Vt,{accessRights:d,sender:e.notif_sender,content:e.notif_content,date:e.notif_date,deleteNotificationAction:function(){return u(e.notif_id)},updateNotification:p(e.notif_id)})})),t>1?Object(Re.jsx)(Pt,{paginationSize:r,totalCount:a,rootValue:c}):null]})}function Ht(e){var t=e.accessRights,n=e.notificationsList,a=e.totalNotificationsCount,c=e.paginationSize,o=e.deleteNotification,i=e.getNotifications,s=e.getNotificationsCount,l=e.updateNotification,u=e.history,p=e.rootPath,d=e.page,j=e.loading,f=e.setLoading,b=e.isAdding,m=e.onSubmitPutNotification,h=e.setIsAdding;Object(r.useEffect)((function(){f(!0),s().catch((function(e){console.log(e),alert(e.message)})).finally((function(){return f(!1)}))}),[]),Object(r.useEffect)((function(){u.push(p+"1"),i().catch((function(e){console.log(e),alert(e.message)})).finally((function(){return f(!1)}))}),[a]),Object(r.useEffect)((function(){f(!0),d>=1&&d<=_?i().catch((function(e){console.log(e),alert(e.message)})).finally((function(){return f(!1)})):f(!1)}),[d]);var _=Math.ceil(a/c);return Object(Re.jsx)(Gt,{notificationsList:n,totalPagesCount:_,loading:j,setLoading:f,paginationSize:c,totalNotificationsCount:a,rootPath:p,isAdding:b,setIsAdding:h,onSubmitPutNotification:m,deleteNotificationAction:function(e){return f(!0),o(e).then((function(){return s()})).then((function(){return i()})).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return f(!1)}))},updateNotificationActionCreator:function(e){return function(t){return f(!0),l(e,t).then((function(){return s()})).then((function(){return i()})).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return f(!1)}))}},accessRights:t})}var Kt=Object(Ke.f)((function(e){var t=e.accessRights,n=e.notificationsList,a=e.totalNotificationsCount,c=e.paginationSize,o=e.deleteNotification,i=e.getAllNotifications,s=e.getAllNotificationsCount,l=e.putNotification,u=e.updateNotification,p=e.match,d=e.location,j=e.history,f=e.getNotificationsCountByDeveloperId,b=e.getNotificationsByDeveloperId,m=e.authId,h=p.params.page?+p.params.page:1,_=Object(r.useState)(!1),v=Object(Me.a)(_,2),g=v[0],x=v[1];return Object(Re.jsx)(Ht,{accessRights:t,notificationsList:n,totalNotificationsCount:a,paginationSize:c,deleteNotification:o,getNotifications:t?function(){return i(h)}:function(){return b(m,h)},getNotificationsCount:t?function(){return s(h)}:function(){return f(m,h)},putNotification:l,updateNotification:u,match:p,location:d,history:j,rootPath:"/notifications/",page:h,loading:g,setLoading:x})}));var Xt=Object(s.b)((function(e){return{accessRights:We(e),notificationsList:Ye(e),totalNotificationsCount:Ze(e),paginationSize:$e(e),authId:Qe(e)}}),{deleteNotification:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getAllNotifications:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n,r){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e,r().notifications.paginationSize);case 2:if(!ie((a=t.sent).status,a.data.errMessage)){t.next=8;break}return n(xe(a.data)),t.abrupt("return",Promise.resolve());case 8:return t.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getAllNotificationsCount:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:if(!ie((n=e.sent).status,n.data.errMessage)){e.next=8;break}return t(Oe(n.data[0]["COUNT(*)"])),e.abrupt("return",Promise.resolve());case 8:return e.abrupt("return",Promise.reject(new Error(n.data.errMessage)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},putNotification:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c){var o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y(e,t,n,r);case 2:if(!ie((o=a.sent).status,o.data.errMessage)){a.next=8;break}return a.abrupt("return",Promise.resolve());case 8:return a.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateNotification:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getNotificationsCountByDeveloperId:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=8;break}return n(Oe(r.data[0]["COUNT(*)"])),t.abrupt("return",Promise.resolve());case 8:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getNotificationsByDeveloperId:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r,a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X(e,t,a().notifications.paginationSize);case 2:if(!ie((c=n.sent).status,c.data.errMessage)){n.next=8;break}return r(xe(c.data)),n.abrupt("return",Promise.resolve());case 8:return n.abrupt("return",Promise.reject(new Error(c.data.errMessage)));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Kt),Qt=n(226),Wt=n(46);function Zt(e){var t=e.actualProject,n=e.deleteAction,r=e.accessRights;return Object(Re.jsxs)("div",{className:Wt.project_info,children:[Object(Re.jsx)("h1",{className:Wt.project_title,children:t.project_title}),Object(Re.jsxs)("div",{className:Wt.project_info_content,children:[Object(Re.jsx)("p",{className:Wt.project_description,children:t.project_description||"No project description"}),Object(Re.jsxs)("div",{className:Wt.project_lead,children:[Object(Re.jsx)("h2",{children:"Leader"}),t.lead?Object(Re.jsx)(It,{id:t.lead.developer_id,surname:t.lead.developer_surname,name:t.lead.developer_name,specialty:t.lead.developer_specialty,position:t.lead.developer_position,avatarURL:t.lead.developer_avatar_url,email:t.lead.developer_email}):Object(Re.jsx)("p",{children:"This project does not have a manager yet"}),r?Object(Re.jsxs)("div",{className:Wt.project_actions,children:[Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(t.project_id,"/change_project"),className:"primary-btn",children:"Change project"}),Object(Re.jsx)("button",{className:"primary-btn",onClick:n,children:"Delete project"})]}):null]})]}),Object(Re.jsxs)("p",{className:Wt.project_deadline,children:["Until ",_t(t.project_deadline)]})]})}var Yt=Object(s.b)((function(e){return{totalDevelopersCount:nt(e),paginationSize:rt(e),developersList:at(e)}}),{getDevelopersByProject:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c,o){var i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,z(e,t,o().developers.paginationSize,n,r);case 2:if(!ie((i=a.sent).status,i.data.errMessage)){a.next=7;break}c(me(i.data)),a.next=8;break;case 7:return a.abrupt("return",Promise.reject(new Error(i.data.errMessage)));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},getCountByProject:function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(a){var c,o;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,V(e,t,n);case 2:if(!ie((c=r.sent).status,c.data.errMessage)){r.next=8;break}o=c.data[0]["COUNT(*)"],a(he(o)),r.next=9;break;case 8:return r.abrupt("return",Promise.reject(new Error(c.data.errMessage)));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(Object(Ke.f)((function(e){var t=e.match.params.id,n=e.totalDevelopersCount,r=e.paginationSize,a=e.developersList,c=e.getDevelopersByProject,o=e.getCountByProject;return Object(Re.jsx)(Mt,{totalDevelopersCount:n,paginationSize:r,developersList:a,getDevelopers:function(e,n,r){return c(t,e,n,r)},getTotalCount:function(e,n){return o(t,e,n)},AddDeveloper:function(){return null},rootPath:"/single_project/".concat(t,"/project_participants/")})}))),$t=n(131),en=n(227);function tn(e){var t=e.initialValues,n=e.onSubmit,a=e.actualTask,c=e.action,o=e.location,i=e.projectId,s=Object(r.useState)(!1),l=Object(Me.a)(s,2),u=l[0],p=l[1],d=Object(Ve.a)({initialValues:t,validationSchema:Je.b({title:Je.c().required("Fill out the required field"),description:Je.c().max(2e3,"Description max length is 2000"),results:Je.c().max(3e3,"Results max length is 3000"),planned_deadline_date:o.pathname.includes("change_task")?null:Je.a().min(new Date,"Invalid deadline date").required("Fill out the required field"),planned_deadline_time:o.pathname.includes("change_task")?null:Je.c().required("Fill out the required field"),taskLeadEmail:Je.c().email("Invalid email")}),onSubmit:function(e){n(e,p)}});return u?Object(Re.jsx)(qe,{}):Object(Re.jsxs)("form",{onSubmit:d.handleSubmit,className:en.work_with_tasks_form,children:[Object(Re.jsx)("input",Object(f.a)({type:"text",placeholder:"Title",id:"text",autoComplete:"off"},d.getFieldProps("title"))),d.errors.title&&d.touched.title?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.title}):null,Object(Re.jsx)("textarea",Object(f.a)(Object(f.a)({name:"description",id:"description",autoComplete:"off"},d.getFieldProps("description")),{},{placeholder:"Description of task"})),d.errors.description&&d.touched.description?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.description}):null,Object(Re.jsx)("textarea",Object(f.a)(Object(f.a)({name:"results",id:"results",autoComplete:"off"},d.getFieldProps("results")),{},{placeholder:"Results of task"})),d.errors.results&&d.touched.results?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.results}):null,o.pathname.includes("change_task")?null:Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("input",Object(f.a)({type:"date",id:"planned_deadline_date",autoComplete:"off"},d.getFieldProps("planned_deadline_date"))),d.errors.planned_deadline_date&&d.touched.planned_deadline_date?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.planned_deadline_date}):null,Object(Re.jsx)("input",Object(f.a)({type:"time",id:"planned_deadline_time",autoComplete:"off"},d.getFieldProps("planned_deadline_time"))),d.errors.planned_deadline_time&&d.touched.planned_deadline_time?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.planned_deadline_time}):null]}),Object(Re.jsx)("input",Object(f.a)(Object(f.a)({type:"email",id:"taskLeadEmail",autoComplete:"off"},d.getFieldProps("taskLeadEmail")),{},{placeholder:"Task lead`s email"})),d.errors.taskLeadEmail&&d.touched.taskLeadEmail?Object(Re.jsx)("p",{className:"validation_error",children:d.errors.taskLeadEmail}):null,Object(Re.jsxs)("div",{children:[Object(Re.jsxs)("button",{className:"primary-btn",type:"submit",children:[c," task"]}),Object(Re.jsx)(Fe.b,{className:"back_action",to:o.pathname.includes("put_task")?"/single_project/".concat(i,"/tasks/all_tasks/"):"/single_project/".concat(i,"/tasks/single_task/").concat(a.task_id,"/task_info"),children:"Back"})]})]})}function nn(e){var t=e.onSubmitSearchTasks,n=Object(Ve.a)({initialValues:{title:""},validationSchema:Je.b({title:Je.c("Must be string")}),onSubmit:function(e){t(e)}});return Object(Re.jsxs)("form",{onSubmit:n.handleSubmit,className:"search_form",children:[Object(Re.jsx)("p",{className:"search_annotation",children:"Search\xa0by "}),Object(Re.jsx)("input",Object(f.a)({type:"text",placeholder:"task title",id:"title",autoComplete:"off"},n.getFieldProps("title"))),Object(Re.jsx)("input",{type:"submit",className:"primary-btn",value:"Search"})]})}var rn=n(45);function an(e){var t=e.id,n=e.title,r=e.description,a=e.actualDeadline,c=e.lead,o=e.plannedDeadline,i=e.projectId;return Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(i,"/tasks/single_task/").concat(t,"/task_info"),children:Object(Re.jsxs)("div",{className:rn.task_item,children:[Object(Re.jsx)("h2",{children:n.length>15?n.slice(0,15)+"...":n}),Object(Re.jsx)("p",{className:rn.task_item_description,children:r?r.length>150?r.slice(0,150)+"...":r:"No description yet"}),Object(Re.jsx)("h3",{children:c?Object(Re.jsxs)(Re.Fragment,{children:["Project lead: ",Object(Re.jsxs)("span",{children:[c.developer_name," ",c.developer_surname]})]}):Object(Re.jsxs)(Re.Fragment,{children:["Project lead: ",Object(Re.jsx)("span",{children:"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]})}),Object(Re.jsxs)("p",{className:rn.task_item_planned,children:["Planned until: ",Object(Re.jsx)("span",{children:vt(o)})]}),Object(Re.jsxs)("p",{className:rn.task_item_actual,children:["Actual until: ",Object(Re.jsx)("span",{children:vt(a)})]})]})})}function cn(e){var t=e.page,n=e.totalPagesCount,r=e.totalTasksCount,a=e.projectId,c=e.loading,o=e.accessRights,i=e.tasksList,s=e.pagSize,l=e.onSubmitSearchTasks;return!(t>n||t<1)||0===r&&1===t?c?Object(Re.jsx)(qe,{}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)("div",{className:rn.tasks_actions_wrapper,children:[Object(Re.jsx)(nn,{onSubmitSearchTasks:l}),o?Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(a,"/tasks/put_task"),className:"primary-btn",children:"Add task"}):null]}),Object(Re.jsxs)("div",{className:"founded",children:["Tasks found:\xa0",Object(Re.jsx)("span",{children:r})]}),Object(Re.jsx)("div",{className:rn.all_tasks_wrapper,children:i.map((function(e){return Object(Re.jsx)(an,{id:e.task_id,title:e.task_title,lead:e.lead,description:e.task_description,actualDeadline:e.task_actual_deadline,plannedDeadline:e.task_planned_deadline,projectId:a})}))}),n>1?Object(Re.jsx)(Pt,{rootValue:"/single_project/".concat(a,"/tasks/all_tasks/"),paginationSize:s,totalCount:r}):null]}):Object(Re.jsx)(Ke.a,{to:"/single_project/".concat(a,"/tasks/all_tasks/1")})}var on=Object(Ke.f)((function(e){var t=e.tasksList,n=e.match,a=e.getTasks,c=e.getTotalTasksCount,o=e.totalTasksCount,i=e.pagSize,s=e.history,l=e.accessRights,u=n.params.page?+n.params.page:1,p=n.params.id,d=Math.ceil(o/i),j=Object(r.useState)(!1),f=Object(Me.a)(j,2),b=f[0],m=f[1],h=Object(r.useState)(void 0),_=Object(Me.a)(h,2),v=_[0],g=_[1];return Object(r.useEffect)((function(){m(!0),c(p,v).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return m(!1)}))}),[]),Object(r.useEffect)((function(){m(!0),s.push("/single_project/".concat(p,"/tasks/all_tasks/1")),a(p,1,v).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return m(!1)}))}),[o]),Object(r.useEffect)((function(){m(!0),u>=1&&u<=d?a(p,u,v).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return m(!1)})):m(!1)}),[u]),Object(Re.jsx)(cn,{page:u,totalPagesCount:d,totalTasksCount:o,projectId:p,loading:b,getTotalTasksCount:c,accessRights:l,tasksList:t,pagSize:i,onSubmitSearchTasks:function(e){m(!0),g(e.title),c(p,e.title).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return m(!1)}))}})}));var sn="SET_TASKS_LIST",ln="SET_ACTUAL_TASK",un="SET_TOTAL_TASKS_COUNT",pn="SET_CHANGING_DATES_LIST";function dn(e){return{type:sn,newTasksList:e}}function jn(e){return{type:un,newTotalCount:e}}var fn=Object(s.b)((function(e){return{totalTasksCount:jt(e),tasksList:ut(e),tasksPagSize:dt(e),actualTask:pt(e),authId:Qe(e),changingDatesList:ft(e)}}),{getTotalTasksCount:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=8;break}return r(jn(a.data[0]["COUNT(*)"])),n.abrupt("return",Promise.resolve());case 8:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteTask:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getSingleTask:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=8;break}return n((a=r.data[0],{type:ln,newActualTask:a})),t.abrupt("return",Promise.resolve());case 8:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 9:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},getTasks:function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(a,c){var o;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ee(e,n,t,c().tasks.paginationSize);case 2:if(!ie((o=r.sent).status,o.data.errMessage)){r.next=8;break}return a(dn(o.data)),r.abrupt("return",Promise.resolve());case 8:return r.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},updateTask:function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o){var i;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,oe(e,t,n,r,a);case 2:if(!ie((i=c.sent).status,i.data.errMessage)){c.next=7;break}return c.abrupt("return",Promise.resolve());case 7:return c.abrupt("return",Promise.reject(new Error(i.data.errMessage)));case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},deleteChangingDate:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getChangingDates:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=8;break}return n((a=r.data,{type:pn,newChangingDatesList:a})),t.abrupt("return",Promise.resolve());case 8:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 9:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},putChangingDate:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c){var o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S(e,t,n,r);case 2:if(!ie((o=a.sent).status,o.data.errMessage)){a.next=7;break}return a.abrupt("return",Promise.resolve());case 7:return a.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateChangingDate:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getDevelopersTasks:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c,o){var i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te(e,r,t,o().tasks.paginationSize,n);case 2:if(!ie((i=a.sent).status,i.data.errMessage)){a.next=8;break}return c(dn(i.data)),a.abrupt("return",Promise.resolve());case 8:return a.abrupt("return",Promise.reject(new Error(i.data.errMessage)));case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},getTotalDevelopersTasksCount:function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(a){var c;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ae(e,n,t);case 2:if(!ie((c=r.sent).status,c.data.errMessage)){r.next=8;break}return a(jn(c.data[0]["COUNT(*)"])),r.abrupt("return",Promise.resolve());case 8:return r.abrupt("return",Promise.reject(new Error(c.data.errMessage)));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.totalTasksCount,n=e.tasksList,r=e.tasksPagSize,a=(e.actualTask,e.getTotalTasksCount),c=(e.deleteTask,e.getSingleTask,e.getTasks),o=(e.updateTask,e.authId),i=(e.deleteChangingDate,e.getChangingDates,e.putChangingDate,e.updateChangingDate,e.changingDatesList,e.projectAccessRights),s=e.getDevelopersTasks,l=e.getTotalDevelopersTasksCount;return Object(Re.jsxs)("div",{children:[Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/tasks/all_tasks/:page?",render:function(){return Object(Re.jsx)(on,{tasksList:n,pagSize:r,totalTasksCount:t,getTasks:i?c:function(e,t,n){return s(e,t,o,n)},getTotalTasksCount:i?a:function(e,t){return l(e,o,t)},accessRights:i})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/tasks/single_task/:task_id?",render:function(){return Object(Re.jsx)("div",{})}})]})}));function bn(e){var t=e.existsFlag,n=e.loading,r=e.location,a=e.id,c=e.actualProject,o=e.deleteAction,i=e.accessRights,s=e.onSubmitChangeProject,l=e.initialValuesChangeProject,u=e.initialValuesPutTask,p=e.onSubmitPutTask;return t?n?Object(Re.jsx)(qe,{}):Object(Re.jsxs)("div",{className:$t.projects_manage_wrapper,children:[Object(Re.jsx)("div",{className:$t.projects_nav,children:Object(Re.jsxs)("ul",{children:[Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(a,"/project_info"),className:r.pathname.includes("change_project")?"active":"",children:Object(Re.jsx)("li",{children:c.project_title.length>15?c.project_title.slice(0,15)+"...":c.project_title})}),Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(a,"/tasks/all_tasks/1"),className:r.pathname.includes("/tasks/")?"active":"",children:Object(Re.jsx)("li",{children:"Tasks"})}),Object(Re.jsx)(Fe.b,{to:"/single_project/".concat(a,"/project_participants/1"),className:r.pathname.includes("/project_participants/")?"active":"",children:Object(Re.jsx)("li",{children:"Participants"})})]})}),Object(Re.jsxs)("div",{children:[Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/project_info",render:function(){return Object(Re.jsx)(Zt,{actualProject:c,deleteAction:function(){return o(a)},accessRights:i})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/tasks/",render:function(){return Object(Re.jsx)(fn,{projectAccessRights:i})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/project_participants/:page?",render:function(){return Object(Re.jsx)(Yt,{})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/change_project",render:i?function(){return Object(Re.jsx)(Ut,{onSubmit:s,initialValues:l,actualProject:c,action:"Change",location:r,projectId:a})}:function(){return Object(Re.jsx)(Ke.a,{to:"/profile"})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?/tasks/put_task",render:i?function(){return Object(Re.jsx)(tn,{action:"Put",initialValues:u,onSubmit:p,projectId:a,location:r})}:function(){return Object(Re.jsx)(Ke.a,{to:"/profile"})}})]})]}):Object(Re.jsx)(Ke.a,{to:"/projects/1"})}var mn=Object(Ke.f)((function(e){var t=e.match,n=e.actualProject,a=e.getProjectById,c=e.deleteProject,o=e.history,i=e.location,s=e.changeProject,l=e.accessRights,u=e.putTask,p=Object(r.useState)(!0),f=Object(Me.a)(p,2),b=f[0],m=f[1],h=+t.params.id,_=Object(r.useState)(!0),v=Object(Me.a)(_,2),g=v[0],x=v[1];function O(){return(O=Object(j.a)(d.a.mark((function e(t,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r(!0),!t.projectLeadEmail){e.next=15;break}return e.next=5,G(t.projectLeadEmail);case 5:if(!(a=e.sent.id)){e.next=12;break}return e.next=9,s(n.project_id,t.title,t.description,t.deadline,a);case 9:o.push("/projects/1"),e.next=13;break;case 12:alert("Developer with email ".concat(t.projectLeadEmail," not found"));case 13:e.next=18;break;case 15:return e.next=17,s(n.project_id,t.title,t.description,t.deadline,"");case 17:o.push("/projects/1");case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.message);case 24:return e.prev=24,r(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,20,24,27]])})))).apply(this,arguments)}function k(){return(k=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n(!0),!t.taskLeadEmail){e.next=15;break}return e.next=5,G(t.taskLeadEmail);case 5:if(!(r=e.sent.id)){e.next=12;break}return e.next=9,u(t.title,t.description,t.results,"".concat(t.planned_deadline_date," ").concat(t.planned_deadline_time),"".concat(t.planned_deadline_date," ").concat(t.planned_deadline_time),r,h);case 9:o.push("/single_project/".concat(h,"/tasks/all_tasks/1")),e.next=13;break;case 12:alert("Developer with email ".concat(t.taskLeadEmail," not found"));case 13:e.next=18;break;case 15:return e.next=17,u(t.title,t.description,t.results,"".concat(t.planned_deadline_date," ").concat(t.planned_deadline_time),"".concat(t.planned_deadline_date," ").concat(t.planned_deadline_time),"",h);case 17:o.push("/single_project/".concat(h,"/tasks/all_tasks/1"));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.message);case 24:return e.prev=24,n(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,20,24,27]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){a(h).catch((function(e){x(!1),console.log(e),alert(e.message)})).finally((function(){return m(!1)}))}),[]),Object(Re.jsx)(bn,{existsFlag:g,loading:b,location:i,id:h,actualProject:n,deleteAction:function(e){confirm('Are you sure to delete project "'.concat(n.project_title,'"?'))&&(m(!0),c(e).then((function(){return o.push("/projects/1")})).catch((function(e){e&&(console.log(e),alert(e.message))})).finally((function(){return m(!1)})))},accessRights:l,onSubmitChangeProject:function(e,t){return O.apply(this,arguments)},initialValuesChangeProject:function(e){return{title:e.project_title,description:e.project_description,deadline:e.project_deadline.slice(0,e.project_deadline.indexOf("T")),projectLeadEmail:e.lead?e.lead.developer_email:""}},initialValuesPutTask:{title:"",description:"",results:"",planned_deadline_date:"",planned_deadline_time:"",taskLeadEmail:""},onSubmitPutTask:function(e,t){return k.apply(this,arguments)}})}));function hn(e){var t=e.onSubmitPutProject,n=e.onSubmitPutDeveloper,r=e.initialValuesPutDeveloper,a=e.actualProject,c=e.isAdmin,o=e.location,i=e.authId,s=e.getProjectById,l=e.deleteProject,u=e.changeProject,p=e.putTask;function d(e,t,n){var r=t?+t.project_lead_id:null;return e||+r===+n}return Object(Re.jsx)("div",{className:Qt.work_wrapper,children:Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Ke.b,{path:"/profile",exact:!0,render:function(){return Object(Re.jsx)(kt,{})}}),Object(Re.jsx)(Ke.b,{path:"/profile/:id",exact:!0,render:function(){return Object(Re.jsx)(kt,{})}}),Object(Re.jsx)(Ke.b,{path:"/projects/:page?",render:function(){return Object(Re.jsx)(Dt,{})}}),Object(Re.jsx)(Ke.b,{path:"/developers/:page?",render:function(){return Object(Re.jsx)(Ft,{})}}),Object(Re.jsx)(Ke.b,{path:"/put-developer",exact:!0,render:c?function(){return Object(Re.jsx)(Rt,{onSubmitPutDeveloper:n})}:function(){return Object(Re.jsx)(Ke.a,{to:"/profile"})}}),Object(Re.jsx)(Ke.b,{path:"/put-project",render:c?function(){return Object(Re.jsx)(Ut,{onSubmit:t,initialValues:r,actualProject:a,action:"Put",location:o})}:function(){return Object(Re.jsx)(Ke.a,{to:"/profile"})}}),Object(Re.jsx)(Ke.b,{path:"/single_project/:id?",render:function(){return Object(Re.jsx)(mn,{getProjectById:s,actualProject:a,deleteProject:l,changeProject:u,putTask:p,accessRights:d(c,a,i)})}}),Object(Re.jsx)(Ke.b,{path:"/notifications/:page?",render:function(){return Object(Re.jsx)(Xt,{})}})]})})}var _n=Object(Ke.f)((function(e){var t=e.isAdmin,n=e.putProject,r=e.actualProject,a=e.getProjectById,c=e.deleteProject,o=e.history,i=e.changeProject,s=e.location,l=e.authId,u=e.putTask,p=e.putDeveloper;function f(){return(f=Object(j.a)(d.a.mark((function e(t,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r(!0),!t.projectLeadEmail){e.next=15;break}return e.next=5,G(t.projectLeadEmail);case 5:if(!(a=e.sent.id)){e.next=12;break}return e.next=9,n(t.title,t.description,t.deadline,a);case 9:o.push("/projects/1"),e.next=13;break;case 12:alert("Developer with email ".concat(t.projectLeadEmail," not found"));case 13:e.next=18;break;case 15:return e.next=17,n(t.title,t.description,t.deadline,"");case 17:o.push("/projects/1");case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.message);case 24:return e.prev=24,r(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,20,24,27]])})))).apply(this,arguments)}return Object(Re.jsx)(hn,{onSubmitPutProject:function(e,t){return f.apply(this,arguments)},onSubmitPutDeveloper:function(e){J(e.email,-1).then(function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.passed){t.next=6;break}return t.next=3,p(e);case 3:o.push("/developers/1"),t.next=7;break;case 6:alert("This mail belongs to another user");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),alert(e.message)}))},initialValuesPutDeveloper:function(){return{title:"",description:"",deadline:"",projectLeadEmail:""}},actualProject:r,isAdmin:t,location:s,authId:l,getProjectById:a,deleteProject:c,changeProject:i,putTask:u})}));var vn=Object(s.b)((function(e){return{isAdmin:We(e),actualProject:ot(e),authId:Qe(e)}}),{putProject:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c){var o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A(e,t,n,r);case 2:if(!ie((o=a.sent).status,o.data.errMessage)){a.next=7;break}return a.abrupt("return",Promise.resolve());case 7:return a.abrupt("return",Promise.reject(new Error(o.data.errMessage)));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getProjectById:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=20;break}if(!r.data[0]){t.next=17;break}if(!r.data[0].project_lead_id){t.next=14;break}return t.next=8,F(r.data[0].project_lead_id);case 8:if(!ie((a=t.sent).status,a.data.errMessage)){t.next=13;break}r.data[0].lead=a.data[0],t.next=14;break;case 13:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 14:n((c=r.data[0],{type:Ne,actualProjectObject:c})),t.next=18;break;case 17:return t.abrupt("return",Promise.reject(new Error("No data of lead")));case 18:t.next=21;break;case 20:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 21:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteProject:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeProject:function(e,t,n,r,a){return function(){var c=Object(j.a)(d.a.mark((function c(o){var i;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,I(e,t,n,r,a);case 2:if(!ie((i=c.sent).status,i.data.errMessage)){c.next=7;break}return c.abrupt("return",Promise.resolve());case 7:return c.abrupt("return",Promise.reject(new Error(i.data.errMessage)));case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},putDeveloper:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:if(!ie((r=t.sent).status,r.data.errMessage)){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.abrupt("return",Promise.reject(new Error(r.data.errMessage)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(_n);function gn(e){var t=e.authId,n=e.loading,r=e.onSubmitAuth;return n?Object(Re.jsx)(qe,{}):t?Object(Re.jsx)(Fe.a,{children:Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Be,{headerLogo:"ITime"}),Object(Re.jsxs)("main",{children:[Object(Re.jsx)(bt,{}),Object(Re.jsx)(vn,{})]})]})}):Object(Re.jsx)(He,{onSubmitAuth:r})}var xn=Object(s.b)((function(e){return{authId:Qe(e)}}),{auth:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L(e,t);case 2:if(!ie((a=n.sent).status,a.data.errMessage)){n.next=12;break}if(0===a.data.length){n.next=9;break}r(pe(a.data[0].developer_id)),r(de(!!a.data[0].developer_is_admin)),n.next=10;break;case 9:return n.abrupt("return",Promise.reject(new Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")));case 10:n.next=13;break;case 12:return n.abrupt("return",Promise.reject(new Error(a.data.errMessage)));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.authId,n=e.auth,a=Object(r.useState)(!1),c=Object(Me.a)(a,2),o=c[0],i=c[1];return Object(Re.jsx)(gn,{authId:t,loading:o,onSubmitAuth:function(e){i(!0),n(e.login,e.password).catch((function(e){console.log(e),alert(e.message)})).finally((function(){return i(!1)}))}})}));o.a.render(Object(Re.jsx)(a.a.StrictMode,{children:Object(Re.jsx)(s.a,{store:Le,children:Object(Re.jsx)(xn,{})})}),document.getElementById("root")),i()},91:function(e,t,n){e.exports={developer_put_form:"put_developer_form_developer_put_form__3kfAB",developer_put_form_data:"put_developer_form_developer_put_form_data__3AH-O",developer_put_form_actions:"put_developer_form_developer_put_form_actions__26IqS"}}},[[486,1,2]]]);
//# sourceMappingURL=main.a76030c3.chunk.js.map